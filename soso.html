<!DOCTYPE html>
<meta charset="utf-8">
<body>

<!-- <script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js"></script> -->
<script type="text/javascript" src="http://d3js.org/d3.v2.min.js"></script>

<div id="inspiration"></div>
<!-- <script type="text/javascript" src="/js/inspiration.js"></script>
 -->

<script>
var width = 2800,
    height = 900;

var svg = d3.select("body").append("svg")
    .attr("width", width)
    .attr("height", height);

var g = svg.append("g");
d3.json("ideo.json", function(data, error) {
  console.log(data)
    g.selectAll("circle")
       .data(data)
       .enter()
       .append("circle")
       .attr("cy", function(d,i) {
        if (d.engaged==="into it"){
          // console.log("yeah")
        return height/3;
      }
        if (d.engaged==="soso"){
          // console.log("yeah")
        return height/2;
      } 
        if (d.engaged==="out of it"){
          // console.log("yeah")
        return height*2/3;
      } 
       })
       .attr("cx", function(d,i) {
        return width/2-i*14;
               // return projection([d.lon, d.lat])[1];
       })
       .attr("r", 10)
       .attr("fill", "red")
       .attr("opacity", .1)
       .transition()
       .duration(1000)
      .delay(function(d,i) { return i * 40; })

       .attr("cy",height/2)
       .attr("r", 0)
  .transition()
    .duration(2000)
    .delay(function(d,i) { return i * 40; })
    .each(slide);

function slide() {
  var circle = d3.select(this);
  (function repeat() {
    circle = circle.transition()
        .attr("cx", function(d,i){ return 0; })
      .transition()
        .attr("r",10)
        .attr("cx", function(d,i){ return width/2-i*14; })
        .each("start", repeat);
  })();
}
    //    .duration(3000)
    //    .attr("stroke","white")
    //    .attr("r",100)
    //   .transition()
    //    .duration(6000)
    // .delay(function(d,i) { return i * 40; })
    //    .attr("opacity", .05)
});

</script>
</body>
</html>




